# Arguments in `singularity run`:
singularity_run:
    --no-zipped: ""
    --dummy: "2"
    -v: ""
    #--env: "MINICONDA_PATH=${MINICONDA_PATH}"
    # -v: "${MINICONDA_PATH}:${MINICONDA_PATH}"

# Output foldername(s) to be zipped, and the BIDS App version to be included in the zip filename(s):
zip_foldernames:
    toybidsapp: "0-0-7"

# How much cluster resources it needs:
cluster_resources:
    interpreting_shell: /bin/bash
    hard_memory_limit: 2G

# TODO when this is executed by babs-init it doesnt have MINICONDA_PATH set... even though it is set in the env that babs-init is running
# Necessary commands to be run first:
script_preamble: |
    # git config --global --add safe.directory "*"
    echo "SCRIPT_PREAMBLE"
    whoami
    ls -la ~/
    . ~/.bashrc
    echo "miniconda path is: ${MINICONDA_PATH}"
    . "$MINICONDA_PATH/etc/profile.d/conda.sh"
    conda activate babs

# Where to run the jobs:
job_compute_space: "/tmp"
